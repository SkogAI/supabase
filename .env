# ONLINE SUPABASE:
# SUPABASE_ACCESS_TOKEN="sbp_55cc0a02ee057662fc55e69cd3a7a43ded308fa9"

# OFFLINE SUPABASE:
# Supabase Configuration
# Copy this file to .env and fill in your actual values

# OpenAI API Key for Supabase Studio AI features
openai_api_key=$OPENAI_API_KEY
# Optional: SMS Provider (Twilio)
# SUPABASE_AUTH_SMS_TWILIO_AUTH_TOKEN=your-twilio-auth-token
#
# # Optional: External OAuth Providers
# SUPABASE_AUTH_EXTERNAL_APPLE_SECRET=your-apple-oauth-secret

# Optional: S3 Configuration for OrioleDB
DATABASE_URL="postgresql://skogix:skogsund1@127.0.0.1:5432/postgres"
# S3_ENDPOINT_URL="https://wwjzyyszcjzgygdwbfls.supabase.co/storage/v1/s3"
# S3_ENDPOINT_REGION="eu-north-1"
# S3_ACCESS_KEY="995203de861508b87bb1d5cb9f2bb51d"
# S3_SECRET_ACCESS_KEY="7e07b6765dfaef1d9dacf154a479799c6577ffd0b47a15e351205a3677508807"

# Optional: Email SMTP (SendGrid example)
# SENDGRID_API_KEY=your-sendgrid-api-key

#
# # Optional: S3 Configuration for OrioleDB
# S3_HOST=your-bucket.s3-region.amazonaws.com
# S3_REGION=us-east-1
# S3_ACCESS_KEY=your-access-key
# S3_SECRET_KEY=your-secret-key
#
POSTGRES_PASSWORD=skogsund1
# JWT_SECRET=your-super-secret-jwt-token-with-at-least-32-characters-long
ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU
DASHBOARD_USERNAME=skogix
DASHBOARD_PASSWORD=skogsund1
# SECRET_KEY_BASE=UpNVntn3cDxHJpq99YMc1T1AQgQpc8kfYTuRgBiYa15BLrx8etQoXz3gZv1/u2oq
# VAULT_ENC_KEY=your-encryption-key-32-chars-min
#
# # =============================================================================
# # MCP (Model Context Protocol) Server Configuration for AI Agents
# # =============================================================================
#
# # MCP Server Settings
# MCP_SERVER_NAME=supabase-mcp-server
# MCP_SERVER_PORT=3000
#
POSTGRES_HOST=db
POSTGRES_DB=postgres
POSTGRES_PORT=5432
# # default user is postgres
#
# # Option 1: Direct IPv6 Connection (Persistent agents with IPv6 support)
# # Lowest latency, full PostgreSQL feature support
# # DATABASE_URL=postgresql://postgres.[YOUR-PROJECT-REF]:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres
#
# # Option 2: Supavisor Session Mode (Persistent agents requiring IPv4)
# # IPv4 compatibility, connection persistence, prepared statements support
# # Ideal for long-running AI agents without IPv6 support
# SUPABASE_SESSION_POOLER=postgresql://postgres.[YOUR-PROJECT-REF]:[YOUR-PASSWORD]@aws-0-[REGION].pooler.supabase.com:5432/postgres
#
# # Option 3: Supavisor Transaction Mode (Serverless/Edge agents)
# # Efficient resource usage, automatic cleanup after each transaction
# # SUPABASE_TRANSACTION_POOLER=postgresql://postgres.[YOUR-PROJECT-REF]:[YOUR-PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres
#
# # Connection Type Selection
# # Options: direct_ipv6, supavisor_session, supavisor_transaction, dedicated_pooler
# DB_CONNECTION_TYPE=supavisor_session
#
# # Session Pooler Configuration
# # Default pool size: 30 (adjustable per compute tier)
# DB_POOL_MIN=5
# DB_POOL_MAX=20
# DB_POOL_IDLE_TIMEOUT=300000
# DB_POOL_CONNECTION_TIMEOUT=10000
#
# # Authentication
# SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
# JWT_SECRET=your-jwt-secret
#
# # Monitoring and Logging
# ENABLE_MCP_MONITORING=true
# LOG_LEVEL=info
# # ============================================================================
# # AI AGENT AUTHENTICATION FOR MCP SERVERS
# # ============================================================================
# # Connection strings for AI agents accessing via MCP servers
# # See docs/AI_AGENT_SECURITY.md for setup instructions
#
# # Read-Only AI Agent Connection (for chatbots, analytics viewers)
# # Format: postgresql://[username]:[password]@[host]:[port]/[database]
# # Role: ai_agent_readonly - SELECT only on all tables
# SUPABASE_AI_AGENT_READONLY_CONNECTION=postgresql://ai_readonly_user:secure_password@db.project-ref.supabase.co:5432/postgres
#
# # Read-Write AI Agent Connection (for content generators, data processors)
# # Format: postgresql://[username]:[password]@[host]:[port]/[database]
# # Role: ai_agent_readwrite - SELECT, INSERT, UPDATE on all tables
# SUPABASE_AI_AGENT_READWRITE_CONNECTION=postgresql://ai_readwrite_user:secure_password@db.project-ref.supabase.co:5432/postgres
#
# # Analytics AI Agent Connection (for data analysis, reporting)
# # Format: postgresql://[username]:[password]@[host]:[port]/[database]
# # Role: ai_agent_analytics - SELECT on all tables + materialized view refresh
# SUPABASE_AI_AGENT_ANALYTICS_CONNECTION=postgresql://ai_analytics_user:secure_password@db.project-ref.supabase.co:5432/postgres
#
# ## General
# SITE_URL=http://localhost:3000
# ADDITIONAL_REDIRECT_URLS=
# JWT_EXPIRY=3600
# DISABLE_SIGNUP=false
API_EXTERNAL_URL=https://supabase.skogai.se
#
# # Connection Type for MCP Servers
# # Options: direct_ipv6, direct_ipv4, supavisor_session, supavisor_transaction
# # See docs/MCP_CONNECTION_EXAMPLES.md for details
# MCP_CONNECTION_TYPE=supavisor_transaction
#
# # Enable Audit Logging for AI Agents
# # Set to 'true' to log all authentication attempts and queries
# MCP_AUDIT_LOGGING_ENABLED=true
# # ==========================================
# # SAML SSO Configuration (Production Only)
# # ==========================================
# # For self-hosted Supabase with ZITADEL SAML integration
# # See docs/ZITADEL_SAML_PRODUCTION_DEPLOYMENT.md for complete setup guide
#
# # Enable SAML authentication
# GOTRUE_SAML_ENABLED=false
#
# # SAML Private Key (base64 encoded DER format)
# # Generate with: openssl genpkey -algorithm rsa -outform DER -out saml_key.der && base64 -w 0 saml_key.der
# GOTRUE_SAML_PRIVATE_KEY=your-base64-encoded-saml-private-key-here
#
# # Site URL (use HTTPS in production)
# GOTRUE_SITE_URL=http://localhost:8000
# GOTRUE_URI_ALLOW_LIST=http://localhost:8000
#
# # JWT Configuration
# GOTRUE_JWT_EXP=3600
# GOTRUE_REFRESH_TOKEN_ROTATION_ENABLED=true
# GOTRUE_SECURITY_REFRESH_TOKEN_REUSE_INTERVAL=10
#
STUDIO_PORT=8000
# # replace if you intend to use Studio outside of localhost
SUPABASE_PUBLIC_URL=https://supabase.skogai.se
#
# # Logging
# GOTRUE_LOG_LEVEL=info
# # ============================================
# # SAML SSO Configuration
# # ============================================
# # Enable SAML SSO authentication for enterprise single sign-on
# # See docs/SUPABASE_SAML_CONFIGURATION.md for complete setup guide
#
# # Add your OpenAI API key to enable SQL Editor Assistant
OPENAI_API_KEY=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
OPENAI_BASE_URL=https://openrouter.ai/api/v1/
#
# # SAML private key (base64-encoded DER format)
# # Generate with: openssl genpkey -algorithm RSA -pkeyopt rsa_keygen_bits:2048 -outform DER -out private_key.der
# # Then encode: base64 -w 0 private_key.der > private_key.base64
# # GOTRUE_SAML_PRIVATE_KEY=your-base64-encoded-private-key-here
#
# # Optional: SAML RelayState parameter for post-login redirect
# # GOTRUE_SAML_RELAY_STATE=http://localhost:3000/dashboard
# # MCP Server Configuration - AI Agent Database Connections
# # =============================================================================
#
# # Direct IPv6 Connection (Persistent Agents)
# # Use for: Long-running AI agents with stable environments (VMs, containers)
# # Benefits: Lowest latency, full PostgreSQL features, prepared statements
# # Requirements: IPv6 network support
# # Get from: Supabase Dashboard → Project Settings → Database → Connection String (Direct)
# SUPABASE_DIRECT_CONNECTION=postgresql://postgres:[YOUR-PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres
#
# # Direct Connection Pool Settings
# # Persistent agents benefit from larger pool sizes and longer timeouts
# SUPABASE_DIRECT_POOL_MIN=5
# SUPABASE_DIRECT_POOL_MAX=20
# SUPABASE_DIRECT_POOL_IDLE_TIMEOUT=300000
# SUPABASE_DIRECT_POOL_CONNECTION_TIMEOUT=10000
#
# # IPv6 Configuration
# # Set to true if your environment supports IPv6
# SUPABASE_DIRECT_IPV6_ENABLED=true
#
# # Connection Health Check Settings
# SUPABASE_DIRECT_HEALTH_CHECK_ENABLED=true
# SUPABASE_DIRECT_HEALTH_CHECK_INTERVAL=30000
# SUPABASE_DIRECT_HEALTH_CHECK_TIMEOUT=5000
#

GOTRUE_SAML_ENABLED=true
GOTRUE_SAML_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\nMIIEpQIBAAKCAQEA4A0mwBChFbASOUcjQExpXovRavl+goXZ76/QVuxP1podgH0c\nhGKTwSeYAcYoL+XeNz6TVq8gCg4rZjJ7dsMCZKuCphUwrG/Kg+a9Tc2Kku16RJyd\nNmklcq8r2C1L6tksCCgs5XsfsM/iI0WGt5VVqIzl7RIWao+YJXCnNyVbiDHoBngK\np17nfra4j4Qq7BizWhhm82a3neSt94vgnOuoRcL5onkAQmfDC8xGVDpcijuI5phs\nw1s5ZXDn7/RnCRPRlHLlNrxVH35dMF7ZYWkgiXnT2Jv3B0XUk0bjQvqQTcPMo2z9\n0xwlBnYNw2HKJSixs5mzXqzbGTVW0kr3XTTPnQIDAQABAoIBAC5yg4NDH0XZ+bku\nlm/8t0ZeqXQqE1A3M/I0yjXO6RE142JQ7YHDVtqu3NwXSpr9ZichPZW1meiDvfsC\ngaZh8IPSq3PHRk8lIMBd7AYuU2k4uoVxS0UtoJIJHweCgm/GBFMPkxkiwHPc8MY7\nol06I+cciIjwXD3MlW/DjiLIR5Sw0oTgDjPoLo8xJBIcVVOnQw02CDKMJPpCXtl8\njIsQRCp0yzSk0Lzt9FXMVcyRdNNrIsYmJN0nnWdzPuzotz2wtMUgEyEE+zB+jO73\nDNT52XRG6/mUJnS0dhjTPwfYttUvpIHsMa3LGqTIxMlCSkdPxzpOKlAYII/BxlPK\nh4xwkuECgYEA+akAjd0p2OSe5XHzdZoYqY3jkCBt8xlNG8UkciAhn0I++qCIytj7\nMmiNMf0df49OpyGOUM0RhSjmwNAgmEwEEp+gV9dKlGboQMs6HqhFZZ9sc3SExRkq\np6jq20ZZHd16do7Bh4xK7mmvcdELB76wPAJSEeHzj4xtPAIjw3nypCECgYEA5b2r\nvIj3jQAVjJenIdNX5u4UPkN/dp6sTieBaQVfi/hdxCT/zszINwu+gCUs0yphjmZo\nrNiw+qeZshJA2y5c6Wg6DfBN1IjTSOMH84AHbNjZ763rDj63XYYf6EESW5k8j+JD\nF09tfEaI9HWJ0T3ZflqSruv56uKNLEicmrn1O/0CgYEAp7YRCjus1efWmfmve6vV\nr2kCmpo+YhT4CJSphATzsSF2XzSiT+ns7RLw7sjDHSKuynUvPjZT86jjQllN3CEM\nh1o2A2w7zG9Iy+X5mAif/cFXwENgwWrDjbdadYzPZtGWZ7hEZ4Ml/vx+AC5Wg5Bk\noRtJ+HtZ+29xHeOuFK2CAyECgYEApFwLjzhWEjPrNsgQM+zlSDsvlFPpzs057Dfr\nJ11Gu/aV7ouhzytGWcs3IKp35SK+5Idzf6UPCGP7WyAf8i67HekJD4vJwrGYpt51\ng8kmhsKlOAmuzmQj/u7DyP80yP9aCn4PDZAvfedgd7PXQzECdpkJs8by5w3pfbL9\nBtzfC2kCgYEA8yzV4zLk6hMZavvvkQPDwJmIc5rwTgTwdZGVUwjt6RT/LHzZY8R4\nF+o1+GMR5dcGGyuYfTD28hPzS/CBxtvRV18vBkqDqPvZQZR7i2RFbAcRNFS3Rsy1\nhrZx0jDQC8TluHYxMp6ekhdVo9i0uIWjjnA290jxiHvO/sTRtf/itbo=\n-----END RSA PRIVATE KEY-----"
SAML_SP_PRIVATE_KEY=LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2d0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktrd2dnU2xBZ0VBQW9JQkFRRGdEU2JBRUtFVnNCSTUKUnlOQVRHbGVpOUZxK1g2Q2hkbnZyOUJXN0UvV21oMkFmUnlFWXBQQko1Z0J4aWd2NWQ0M1BwTldyeUFLRGl0bQpNbnQyd3dKa3E0S21GVENzYjhxRDVyMU56WXFTN1hwRW5KMDJhU1Z5cnl2WUxVdnEyU3dJS0N6bGV4K3d6K0lqClJZYTNsVldvak9YdEVoWnFqNWdsY0tjM0pWdUlNZWdHZUFxblh1ZCt0cmlQaENyc0dMTmFHR2J6WnJlZDVLMzMKaStDYzY2aEZ3dm1pZVFCQ1o4TUx6RVpVT2x5S080am1tR3pEV3psbGNPZnY5R2NKRTlHVWN1VTJ2RlVmZmwwdwpYdGxoYVNDSmVkUFltL2NIUmRTVFJ1TkMrcEJOdzh5amJQM1RIQ1VHZGczRFljb2xLTEd6bWJOZXJOc1pOVmJTClN2ZGROTStkQWdNQkFBRUNnZ0VBTG5LRGcwTWZSZG41dVM2V2IveTNSbDZwZENvVFVEY3o4alRLTmM3cEVUWGoKWWxEdGdjTlcycTdjM0JkS212MW1KeUU5bGJXWjZJTzkrd0tCcG1Id2c5S3JjOGRHVHlVZ3dGM3NCaTVUYVRpNgpoWEZMUlMyZ2tna2ZCNEtDYjhZRVV3K1RHU0xBYzl6d3hqdWlYVG9qNXh5SWlQQmNQY3lWYjhPT0lzaEhsTERTCmhPQU9NK2d1anpFa0VoeFZVNmRERFRZSU1vd2sra0plMlh5TWl4QkVLblRMTktUUXZPMzBWY3hWekpGMDAyc2kKeGlZazNTZWRaM00rN09pM1BiQzB4U0FUSVFUN01INk03dmNNMVBuWmRFYnIrWlFtZExSMkdOTS9COWkyMVMrawpnZXd4cmNzYXBNakV5VUpLUjAvSE9rNHFVQmdnajhIR1U4cUhqSENTNFFLQmdRRDVxUUNOM1NuWTVKN2xjZk4xCm1oaXBqZU9RSUczekdVMGJ4U1J5SUNHZlFqNzZvSWpLMlBzeWFJMHgvUjEvajA2bklZNVF6UkdGS09iQTBDQ1kKVEFRU242QlgxMHFVWnVoQXl6b2VxRVZsbjJ4emRJVEZHU3FucU9yYlJsa2QzWHAyanNHSGpFcnVhYTl4MFFzSAp2ckE4QWxJUjRmT1BqRzA4QWlQRGVmS2tJUUtCZ1FEbHZhdThpUGVOQUJXTWw2Y2gwMWZtN2hRK1EzOTJucXhPCko0RnBCVitMK0YzRUpQL096TWczQzc2QUpTelRLbUdPWm1pczJMRDZwNW15RWtEYkxsenBhRG9OOEUzVWlOTkkKNHdmemdBZHMyTm52cmVzT1ByZGRoaC9vUVJKYm1UeVA0a01YVDIxOFJvajBkWW5SUGRsK1dwS3U2L25xNG8wcwpTSnlhdWZVNy9RS0JnUUNudGhFS082elY1OWFaK2E5N3E5V3ZhUUthbWo1aUZQZ0lsS21FQlBPeElYWmZOS0pQCjZlenRFdkR1eU1NZElxN0tkUzgrTmxQenFPTkNXVTNjSVF5SFdqWURiRHZNYjBqTDVmbVlDSi85d1ZmQVEyREIKYXNPTnQxcDFqTTltMFpabnVFUm5neVgrL0g0QUxsYURrR1NoRzBuNGUxbjdiM0VkNDY0VXJZSURJUUtCZ1FDawpYQXVQT0ZZU00rczJ5QkF6N09WSU95K1VVK25PelRuc04rc25YVWE3OXBYdWk2SFBLMFpaeXpjZ3FuZmxJcjdrCmgzTi9wUThJWS90YklCL3lMcnNkNlFrUGk4bkNzWmltM25XRHlTYUd3cVU0Q2E3T1pDUCs3c1BJL3pUSS8xb0sKZmc4TmtDOTk1MkIzczlkRE1RSjJtUW16eHZMbkRlbDlzdjBHM044TGFRS0JnUUR6TE5Yak11VHFFeGxxKysrUgpBOFBBbVloem12Qk9CUEIxa1pWVENPM3BGUDhzZk5sanhIZ1g2alg0WXhIbDF3WWJLNWg5TVBieUUvTkw4SUhHCjI5RlhYeThHU29Pbys5bEJsSHVMWkVWc0J4RTBWTGRHekxXR3RuSFNNTkFMeE9XNGRqRXlucDZTRjFXajJMUzQKaGFPT2NEYjNTUEdJZTg3K3hORzEvK0sxdWc9PQotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg==

# SAML Private Key (base64 encoded DER format)
# Generate with: openssl genpkey -algorithm rsa -outform DER -out saml_key.der && base64 -w 0 saml_key.der
# GOTRUE_SAML_PRIVATE_KEY=your-base64-encoded-saml-private-key-here

# Site URL (use HTTPS in production)
GOTRUE_SITE_URL=https://supabase.skogai.se
GOTRUE_URI_ALLOW_LIST=https://auth.skogai.se

# Logging
GOTRUE_LOG_LEVEL=info
# ============================================
# SAML SSO Configuration
# ============================================
# Enable SAML SSO authentication for enterprise single sign-on
# See docs/SUPABASE_SAML_CONFIGURATION.md for complete setup guide

# Enable SAML SSO (set to true after generating private key)
# GOTRUE_SAML_ENABLED=true

# SAML private key (base64-encoded DER format)
# Generate with: openssl genpkey -algorithm RSA -pkeyopt rsa_keygen_bits:2048 -outform DER -out private_key.der
# Then encode: base64 -w 0 private_key.der > private_key.base64
# GOTRUE_SAML_PRIVATE_KEY=your-base64-encoded-private-key-here

# Optional: SAML RelayState parameter for post-login redirect
# GOTRUE_SAML_RELAY_STATE=http://localhost:3000/dashboard
# MCP Server Configuration - AI Agent Database Connections
# =============================================================================
