{
  "title": "Social Authentication",
  "description": "Social authentication block for Tanstack Start",
  "published": true,
  "featured": false,
  "component": false,
  "fragment": false,
  "toc": true,
  "body": {
    "raw": "\n<BlockPreview name=\"social-auth/auth/login\" />\n\n<Callout className=\"mt-4\">\n  The block is using GitHub provider by default, but can be easily switched by changing a single\n  parameter.\n</Callout>\n\n## Installation\n\n<BlockItem name=\"social-auth-nextjs\" description=\"All needed components for the social auth flow\" />\n\n## Folder structure\n\nThis block includes the [Supabase client](/ui/docs/tanstack/client). If you already have one installed, you can skip overwriting it.\n\n<RegistryBlock itemName=\"social-auth-tanstack\" />\n\n## Usage\n\nOnce you install the block in your Tanstack Start project, you'll get all the necessary pages and components to set up a social authentication flow.\n\n### Getting started\n\nAfter installing the block, you'll have the following environment variables in your `.env.local` file:\n\n```env\nVITE_SUPABASE_URL=\nVITE_SUPABASE_PUBLISHABLE_OR_ANON_KEY=\n```\n\n- If you're using supabase.com, you can find these values in the [Connect modal](https://supabase.com/dashboard/project/_?showConnect=true) under App Frameworks or in your project's [API settings](https://supabase.com/dashboard/project/_/settings/api).\n\n- If you're using a local instance of Supabase, you can find these values by running `supabase start` or `supabase status` (if you already have it running).\n\n### Setting up third party providers\n\nWe support a wide variety of social providers that you can use to integrate with your application. The full list is available [here](https://supabase.com/docs/guides/auth/social-login).\nThis block uses the PKCE flow with GitHub as the provider. To switch providers, just update the `provider` field in the `supabase.auth.signInWithOAuth` call. Enable the provider you want to use under [Auth Providers](https://supabase.com/dashboard/project/_/auth/providers) in the Supabase Dashboard and add the necessary credentials.\n\n### Setting up routes and redirect URLs\n\n1. Set the site URL in the [URL Configuration](https://supabase.com/dashboard/project/_/auth/url-configuration) settings in the Supabase Dashboard.\n1. Update the redirect paths in `login-form.tsx` to point to your appâ€™s logged-in routes. Our examples use `/protected`, but you can set this to whatever fits your app.\n1. Visit `http://your-site-url/login` to see this component in action.\n\n### Combining social auth with password-based auth\n\nIf you want to combine this block with the password-based auth, you need to:\n\n- Copy the `handleSocialLogin` function into the password-based `login-form.tsx` component and bind it to a \"Login with ...\" button.\n- Copy the `@/routes/auth/oauth.ts` in your app under the same route.\n\n## Further reading\n\n- [Social login](https://supabase.com/docs/guides/auth/social-login)\n- [Authentication error codes](https://supabase.com/docs/guides/auth/debugging/error-codes)\n",
    "code": "var Component=(()=>{var g=Object.create;var o=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var f=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty;var k=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),v=(a,e)=>{for(var i in e)o(a,i,{get:e[i],enumerable:!0})},l=(a,e,i,r)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let t of m(e))!y.call(a,t)&&t!==i&&o(a,t,{get:()=>e[t],enumerable:!(r=b(e,t))||r.enumerable});return a};var w=(a,e,i)=>(i=a!=null?g(f(a)):{},l(e||!a||!a.__esModule?o(i,\"default\",{value:a,enumerable:!0}):i,a)),_=a=>l(o({},\"__esModule\",{value:!0}),a);var d=k((L,h)=>{h.exports=_jsx_runtime});var S={};v(S,{default:()=>p,frontmatter:()=>N});var n=w(d()),N={title:\"Social Authentication\",description:\"Social authentication block for Tanstack Start\"};function u(a){let e={a:\"a\",code:\"code\",div:\"div\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",ul:\"ul\",...a.components},{BlockItem:i,BlockPreview:r,Callout:t,RegistryBlock:c}=e;return i||s(\"BlockItem\",!0),r||s(\"BlockPreview\",!0),t||s(\"Callout\",!0),c||s(\"RegistryBlock\",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r,{name:\"social-auth/auth/login\"}),`\n`,(0,n.jsx)(t,{className:\"mt-4\",children:(0,n.jsx)(e.p,{children:`The block is using GitHub provider by default, but can be easily switched by changing a single\nparameter.`})}),`\n`,(0,n.jsxs)(e.h2,{id:\"installation\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#installation\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Installation\"]}),`\n`,(0,n.jsx)(i,{name:\"social-auth-nextjs\",description:\"All needed components for the social auth flow\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"folder-structure\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#folder-structure\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Folder structure\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"This block includes the \",(0,n.jsx)(e.a,{href:\"/ui/docs/tanstack/client\",children:\"Supabase client\"}),\". If you already have one installed, you can skip overwriting it.\"]}),`\n`,(0,n.jsx)(c,{itemName:\"social-auth-tanstack\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"usage\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#usage\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Usage\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Once you install the block in your Tanstack Start project, you'll get all the necessary pages and components to set up a social authentication flow.\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"getting-started\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#getting-started\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Getting started\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"After installing the block, you'll have the following environment variables in your \",(0,n.jsx)(e.code,{children:\".env.local\"}),\" file:\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"env\",\"data-theme\":\"default\",__rawString__:`VITE_SUPABASE_URL=\nVITE_SUPABASE_PUBLISHABLE_OR_ANON_KEY=\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"env\",\"data-theme\":\"default\",children:[(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"VITE_SUPABASE_URL=\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{children:\"VITE_SUPABASE_PUBLISHABLE_OR_ANON_KEY=\"})})]})})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"If you're using supabase.com, you can find these values in the \",(0,n.jsx)(e.a,{href:\"https://supabase.com/dashboard/project/_?showConnect=true\",children:\"Connect modal\"}),\" under App Frameworks or in your project's \",(0,n.jsx)(e.a,{href:\"https://supabase.com/dashboard/project/_/settings/api\",children:\"API settings\"}),\".\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"If you're using a local instance of Supabase, you can find these values by running \",(0,n.jsx)(e.code,{children:\"supabase start\"}),\" or \",(0,n.jsx)(e.code,{children:\"supabase status\"}),\" (if you already have it running).\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"setting-up-third-party-providers\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#setting-up-third-party-providers\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Setting up third party providers\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"We support a wide variety of social providers that you can use to integrate with your application. The full list is available \",(0,n.jsx)(e.a,{href:\"https://supabase.com/docs/guides/auth/social-login\",children:\"here\"}),`.\nThis block uses the PKCE flow with GitHub as the provider. To switch providers, just update the `,(0,n.jsx)(e.code,{children:\"provider\"}),\" field in the \",(0,n.jsx)(e.code,{children:\"supabase.auth.signInWithOAuth\"}),\" call. Enable the provider you want to use under \",(0,n.jsx)(e.a,{href:\"https://supabase.com/dashboard/project/_/auth/providers\",children:\"Auth Providers\"}),\" in the Supabase Dashboard and add the necessary credentials.\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"setting-up-routes-and-redirect-urls\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#setting-up-routes-and-redirect-urls\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Setting up routes and redirect URLs\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Set the site URL in the \",(0,n.jsx)(e.a,{href:\"https://supabase.com/dashboard/project/_/auth/url-configuration\",children:\"URL Configuration\"}),\" settings in the Supabase Dashboard.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Update the redirect paths in \",(0,n.jsx)(e.code,{children:\"login-form.tsx\"}),\" to point to your app\\u2019s logged-in routes. Our examples use \",(0,n.jsx)(e.code,{children:\"/protected\"}),\", but you can set this to whatever fits your app.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Visit \",(0,n.jsx)(e.code,{children:\"http://your-site-url/login\"}),\" to see this component in action.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"combining-social-auth-with-password-based-auth\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#combining-social-auth-with-password-based-auth\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Combining social auth with password-based auth\"]}),`\n`,(0,n.jsx)(e.p,{children:\"If you want to combine this block with the password-based auth, you need to:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Copy the \",(0,n.jsx)(e.code,{children:\"handleSocialLogin\"}),\" function into the password-based \",(0,n.jsx)(e.code,{children:\"login-form.tsx\"}),' component and bind it to a \"Login with ...\" button.']}),`\n`,(0,n.jsxs)(e.li,{children:[\"Copy the \",(0,n.jsx)(e.code,{children:\"@/routes/auth/oauth.ts\"}),\" in your app under the same route.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"further-reading\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#further-reading\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Further reading\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://supabase.com/docs/guides/auth/social-login\",children:\"Social login\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://supabase.com/docs/guides/auth/debugging/error-codes\",children:\"Authentication error codes\"})}),`\n`]})]})}function p(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(u,{...a})}):u(a)}function s(a,e){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return _(S);})();\n;return Component;"
  },
  "_id": "docs/tanstack/social-auth.mdx",
  "_raw": {
    "sourceFilePath": "docs/tanstack/social-auth.mdx",
    "sourceFileName": "social-auth.mdx",
    "sourceFileDir": "docs/tanstack",
    "contentType": "mdx",
    "flattenedPath": "docs/tanstack/social-auth"
  },
  "type": "Doc",
  "slug": "/docs/tanstack/social-auth",
  "slugAsParams": "tanstack/social-auth"
}