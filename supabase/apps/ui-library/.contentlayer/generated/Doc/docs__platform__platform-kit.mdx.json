{
  "title": "Platform Kit",
  "description": "The easiest way to build platforms on top of Supabase",
  "published": true,
  "featured": false,
  "component": false,
  "fragment": false,
  "toc": true,
  "body": {
    "raw": "\n<video width=\"100%\" muted autoPlay controls>\n  <source\n    src=\"https://xguihxuzqibwxjnimxev.supabase.co/storage/v1/object/public/videos/marketing/blog/platform-kit/platform-kit.mp4\"\n    type=\"video/mp4\"\n  />\n  Your browser does not support the video tag.\n</video>\n\n## Installation\n\n<BlockItem\n  name=\"platform-kit-nextjs\"\n  description=\"Embeddable dialog for managing Supabase projects via the Management API.\"\n/>\n\n## Folder structure\n\n<RegistryBlock itemName=\"platform-kit-nextjs\" />\n\n## Introduction\n\nThe Platform Kit is a collection of customizable API's, hooks and components you can use to provide an embedded Supabase experience within your own platform. It comes in the form of a single dialog that enables the management of database, authentication, storage, users, secrets, logs, and performance monitoring.\n\n**Features**\n\n- Database, Auth, Storage, User, Secrets, Logs, and Performance management\n- Responsive dialog/drawer interface (desktop & mobile)\n- API proxy for Management API\n- AI-powered SQL generation (optional)\n- Customize to your liking\n\n## Who is it for\n\nAnyone who is providing Postgres databases to their users.\n\n## Usage\n\nEmbed the manager dialog in your app and manage its state:\n\n```tsx\nimport { useState } from 'react'\nimport { useMobile } from '@/hooks/use-mobile'\nimport { Button } from '@/components/ui/button'\nimport SupabaseManagerDialog from '@/components/supabase-manager'\n\nexport default function Example() {\n  const [open, setOpen] = useState(false)\n  const projectRef = 'your-project-ref' // Replace with your actual project ref\n  const isMobile = useMobile()\n\n  return (\n    <>\n      <Button onClick={() => setOpen(true)}>Open Supabase Manager</Button>\n      <SupabaseManagerDialog\n        projectRef={projectRef}\n        open={open}\n        onOpenChange={setOpen}\n        isMobile={isMobile}\n      />\n    </>\n  )\n}\n```\n\n## Quick Start\n\n1. **Set up environment variables:** in your `.env.local` file:\n\n   ```bash\n   SUPABASE_MANAGEMENT_API_TOKEN=your-personal-access-token\n   NEXT_PUBLIC_ENABLE_AI_QUERIES=true\n   OPENAI_API_KEY=your-openai-api-key\n   ```\n\n2. **Add project-level authentication checks** in your API proxy at `app/api/supabase-proxy/[...path]/route.ts` as well as your ai/sql route at `app/api/ai/sql/route.ts` to ensure only authorized users can access their own project resources.\n\n3. **Add a Toaster for notifications:**  \n   Place the following component at the root of your app (e.g., in your `layout.tsx` or `App.tsx`) to enable toast notifications:\n\n   ```tsx\n   import { Toaster } from '@/components/ui/sonner'\n\n   export default function RootLayout({ children }) {\n     return (\n       <html lang=\"en\">\n         <head />\n         <body>\n           <main>{children}</main>\n           <Toaster />\n         </body>\n       </html>\n     )\n   }\n   ```\n\nThat's it! The default setup uses your Supabase personal access token for the Management API.\n\n## Security\n\n- Never expose your Management API token to the client\n- Always implement authentication and permission checks in your proxy\n\n## Further reading\n\n- [Supabase Management API](https://supabase.com/docs/reference/api/introduction)\n",
    "code": "var Component=(()=>{var u=Object.create;var t=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var k=Object.getOwnPropertyNames;var v=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var f=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),g=(o,e)=>{for(var r in e)t(o,r,{get:e[r],enumerable:!0})},l=(o,e,r,a)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of k(e))!m.call(o,c)&&c!==r&&t(o,c,{get:()=>e[c],enumerable:!(a=y(e,c))||a.enumerable});return o};var b=(o,e,r)=>(r=o!=null?u(v(o)):{},l(e||!o||!o.__esModule?t(r,\"default\",{value:o,enumerable:!0}):r,o)),N=o=>l(t({},\"__esModule\",{value:!0}),o);var i=f((A,s)=>{s.exports=_jsx_runtime});var x={};g(x,{default:()=>h,frontmatter:()=>w});var n=b(i()),w={title:\"Platform Kit\",description:\"The easiest way to build platforms on top of Supabase\"};function d(o){let e={a:\"a\",br:\"br\",code:\"code\",div:\"div\",h2:\"h2\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",ul:\"ul\",...o.components},{BlockItem:r,RegistryBlock:a}=e;return r||p(\"BlockItem\",!0),a||p(\"RegistryBlock\",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(\"video\",{width:\"100%\",muted:!0,autoPlay:!0,controls:!0,children:[(0,n.jsx)(\"source\",{src:\"https://xguihxuzqibwxjnimxev.supabase.co/storage/v1/object/public/videos/marketing/blog/platform-kit/platform-kit.mp4\",type:\"video/mp4\"}),(0,n.jsx)(e.p,{children:\"Your browser does not support the video tag.\"})]}),`\n`,(0,n.jsxs)(e.h2,{id:\"installation\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#installation\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Installation\"]}),`\n`,(0,n.jsx)(r,{name:\"platform-kit-nextjs\",description:\"Embeddable dialog for managing Supabase projects via the Management API.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"folder-structure\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#folder-structure\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Folder structure\"]}),`\n`,(0,n.jsx)(a,{itemName:\"platform-kit-nextjs\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"introduction\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#introduction\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Introduction\"]}),`\n`,(0,n.jsx)(e.p,{children:\"The Platform Kit is a collection of customizable API's, hooks and components you can use to provide an embedded Supabase experience within your own platform. It comes in the form of a single dialog that enables the management of database, authentication, storage, users, secrets, logs, and performance monitoring.\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"Features\"})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Database, Auth, Storage, User, Secrets, Logs, and Performance management\"}),`\n`,(0,n.jsx)(e.li,{children:\"Responsive dialog/drawer interface (desktop & mobile)\"}),`\n`,(0,n.jsx)(e.li,{children:\"API proxy for Management API\"}),`\n`,(0,n.jsx)(e.li,{children:\"AI-powered SQL generation (optional)\"}),`\n`,(0,n.jsx)(e.li,{children:\"Customize to your liking\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"who-is-it-for\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#who-is-it-for\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Who is it for\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Anyone who is providing Postgres databases to their users.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"usage\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#usage\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Usage\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Embed the manager dialog in your app and manage its state:\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`import { useState } from 'react'\nimport { useMobile } from '@/hooks/use-mobile'\nimport { Button } from '@/components/ui/button'\nimport SupabaseManagerDialog from '@/components/supabase-manager'\n\nexport default function Example() {\n  const [open, setOpen] = useState(false)\n  const projectRef = 'your-project-ref' // Replace with your actual project ref\n  const isMobile = useMobile()\n\n  return (\n    <>\n      <Button onClick={() => setOpen(true)}>Open Supabase Manager</Button>\n      <SupabaseManagerDialog\n        projectRef={projectRef}\n        open={open}\n        onOpenChange={setOpen}\n        isMobile={isMobile}\n      />\n    </>\n  )\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" }\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"react\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" useMobile\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" }\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"@/hooks/use-mobile\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" Button\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" }\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"@/components/ui/button\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" SupabaseManagerDialog\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"@/components/supabase-manager\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" Example\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"()\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\"open\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" setOpen\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"]\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" useState\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\"false\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" projectRef\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"your-project-ref\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-comment)\",fontStyle:\"italic\"},children:\" // Replace with your actual project ref\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" isMobile\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" useMobile\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"()\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    <>\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"Button \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"onClick\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{()\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" setOpen\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\"true\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"Open Supabase Manager\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"</\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"Button\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"SupabaseManagerDialog\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"        projectRef\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"projectRef\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"        open\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"open\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"        onOpenChange\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"setOpen\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"        isMobile\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"isMobile\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      />\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    </>\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"  )\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"quick-start\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#quick-start\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Quick Start\"]}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Set up environment variables:\"}),\" in your \",(0,n.jsx)(e.code,{children:\".env.local\"}),\" file:\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"bash\",\"data-theme\":\"default\",__rawString__:`SUPABASE_MANAGEMENT_API_TOKEN=your-personal-access-token\nNEXT_PUBLIC_ENABLE_AI_QUERIES=true\nOPENAI_API_KEY=your-openai-api-key\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"bash\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"SUPABASE_MANAGEMENT_API_TOKEN\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string)\"},children:\"your-personal-access-token\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"NEXT_PUBLIC_ENABLE_AI_QUERIES\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string)\"},children:\"true\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"OPENAI_API_KEY\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string)\"},children:\"your-openai-api-key\"})]})]})})}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Add project-level authentication checks\"}),\" in your API proxy at \",(0,n.jsx)(e.code,{children:\"app/api/supabase-proxy/[...path]/route.ts\"}),\" as well as your ai/sql route at \",(0,n.jsx)(e.code,{children:\"app/api/ai/sql/route.ts\"}),\" to ensure only authorized users can access their own project resources.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Add a Toaster for notifications:\"}),(0,n.jsx)(e.br,{}),`\n`,\"Place the following component at the root of your app (e.g., in your \",(0,n.jsx)(e.code,{children:\"layout.tsx\"}),\" or \",(0,n.jsx)(e.code,{children:\"App.tsx\"}),\") to enable toast notifications:\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`import { Toaster } from '@/components/ui/sonner'\n\nexport default function RootLayout({ children }) {\n  return (\n    <html lang=\"en\">\n      <head />\n      <body>\n        <main>{children}</main>\n        <Toaster />\n      </body>\n    </html>\n  )\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" Toaster\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" }\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"@/components/ui/sonner\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" RootLayout\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"({\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" children\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" })\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"html \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"lang\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"en\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"head \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"/>\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"body\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"        <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"main\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"children\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}</\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"main\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"        <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"Toaster \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"/>\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      </\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"body\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"html\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"  )\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})})]})})}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"That's it! The default setup uses your Supabase personal access token for the Management API.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"security\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#security\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Security\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Never expose your Management API token to the client\"}),`\n`,(0,n.jsx)(e.li,{children:\"Always implement authentication and permission checks in your proxy\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"further-reading\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#further-reading\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Further reading\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://supabase.com/docs/reference/api/introduction\",children:\"Supabase Management API\"})}),`\n`]})]})}function h(o={}){let{wrapper:e}=o.components||{};return e?(0,n.jsx)(e,{...o,children:(0,n.jsx)(d,{...o})}):d(o)}function p(o,e){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+o+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return N(x);})();\n;return Component;"
  },
  "_id": "docs/platform/platform-kit.mdx",
  "_raw": {
    "sourceFilePath": "docs/platform/platform-kit.mdx",
    "sourceFileName": "platform-kit.mdx",
    "sourceFileDir": "docs/platform",
    "contentType": "mdx",
    "flattenedPath": "docs/platform/platform-kit"
  },
  "type": "Doc",
  "slug": "/docs/platform/platform-kit",
  "slugAsParams": "platform/platform-kit"
}