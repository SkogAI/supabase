{
  "title": "Infinite Query Hook",
  "description": "React hook for infinite lists, fetching data from Supabase.",
  "published": true,
  "featured": false,
  "component": false,
  "fragment": false,
  "toc": true,
  "body": {
    "raw": "\n<BlockPreview name=\"infinite-list-demo\" />\n\n## Installation\n\n<BlockItem\n  name=\"infinite-query-hook\"\n  description=\"Installs the Infinite List component and necessary Supabase client setup.\"\n/>\n\n## Folder structure\n\n<RegistryBlock itemName=\"infinite-query-hook\" />\n\n## Introduction\n\nThe Infinite Query Hook provides a single React hook which will make it easier to load data progressively from your Supabase database. It handles data fetching and pagination state, It is meant to be used with infinite lists or tables.\nThe hook is fully typed, provided you have generated and setup your database types.\n\n## Adding types\n\nBefore using this hook, we **highly** recommend you setup database types in your project. This will make the hook fully-typesafe. More info about generating Typescript types from database schema [here](https://supabase.com/docs/guides/api/rest/generating-types)\n\n## Props\n\n| Prop            | Type                                                      | Description                                                      |\n| --------------- | --------------------------------------------------------- | ---------------------------------------------------------------- |\n| `tableName`     | `string`                                                  | **Required.** The name of the Supabase table to fetch data from. |\n| `columns`       | `string`                                                  | Columns to select from the table. Defaults to `'*'`.             |\n| `pageSize`      | `number`                                                  | Number of items to fetch per page. Defaults to `20`.             |\n| `trailingQuery` | `(query: SupabaseSelectBuilder) => SupabaseSelectBuilder` | Function to apply filters or sorting to the Supabase query.      |\n\n## Return type\n\ndata, count, isSuccess, isLoading, isFetching, error, hasMore, fetchNextPage\n\n| Prop            | Type          | Description                                                                         |\n| --------------- | ------------- | ----------------------------------------------------------------------------------- |\n| `data`          | `TableData[]` | An array of fetched items.                                                          |\n| `count`         | `number`      | Number of total items in the database. It takes `trailingQuery` into consideration. |\n| `isSuccess`     | `boolean`     | It's true if the last API call succeeded.                                           |\n| `isLoading`     | `boolean`     | It's true only for the initial fetch.                                               |\n| `isFetching`    | `boolean`     | It's true for the initial and all incremental fetches.                              |\n| `error`         | `any`         | The error from the last fetch.                                                      |\n| `hasMore`       | `boolean`     | Whether the query has finished fetching all items from the database                 |\n| `fetchNextPage` | `() => void`  | Sends a new request for the next items                                              |\n\n## Type safety\n\nThe hook will use the typed defined on your Supabase client if they're setup ([more info](https://supabase.com/docs/reference/javascript/typescript-support)).\n\nThe hook also supports an custom defined result type by using `useInfiniteQuery<T>`. For example, if you have a custom type for `Product`, you can use it like this `useInfiniteQuery<Product>`.\n\n## Usage\n\n### With sorting\n\n```tsx\nconst { data, fetchNextPage } = useInfiniteQuery({\n  tableName: 'products',\n  columns: '*',\n  pageSize: 10,\n  trailingQuery: (query) => query.order('created_at', { ascending: false }),\n})\n\nreturn (\n  <div>\n    {data.map((item) => (\n      <ProductCard key={item.id} product={item} />\n    ))}\n    <Button onClick={fetchNextPage}>Load more products</Button>\n  </div>\n)\n```\n\n### With filtering on search params\n\nThis example will filter based on a search param like `example.com/?q=hello`.\n\n```tsx\nconst params = useSearchParams()\nconst searchQuery = params.get('q')\n\nconst { data, isLoading, isFetching, fetchNextPage, count, isSuccess } = useInfiniteQuery({\n  tableName: 'products',\n  columns: '*',\n  pageSize: 10,\n  trailingQuery: (query) => {\n    if (searchQuery && searchQuery.length > 0) {\n      query = query.ilike('name', `%${searchQuery}%`)\n    }\n    return query\n  },\n})\n\nreturn (\n  <div>\n    {data.map((item) => (\n      <ProductCard key={item.id} product={item} />\n    ))}\n    <Button onClick={fetchNextPage}>Load more products</Button>\n  </div>\n)\n```\n\n## Reusable components\n\n### Infinite list (fetches as you scroll)\n\nThe following component abstracts the hook into a component. It includes few utility components for no results and end of the list.\n\n```tsx\n'use client'\n\nimport { cn } from '@/lib/utils'\nimport {\n  SupabaseQueryHandler,\n  SupabaseTableData,\n  SupabaseTableName,\n  useInfiniteQuery,\n} from '@/hooks/use-infinite-query'\nimport * as React from 'react'\n\ninterface InfiniteListProps<TableName extends SupabaseTableName> {\n  tableName: TableName\n  columns?: string\n  pageSize?: number\n  trailingQuery?: SupabaseQueryHandler<TableName>\n  renderItem: (item: SupabaseTableData<TableName>, index: number) => React.ReactNode\n  className?: string\n  renderNoResults?: () => React.ReactNode\n  renderEndMessage?: () => React.ReactNode\n  renderSkeleton?: (count: number) => React.ReactNode\n}\n\nconst DefaultNoResults = () => (\n  <div className=\"text-center text-muted-foreground py-10\">No results.</div>\n)\n\nconst DefaultEndMessage = () => (\n  <div className=\"text-center text-muted-foreground py-4 text-sm\">You&apos;ve reached the end.</div>\n)\n\nconst defaultSkeleton = (count: number) => (\n  <div className=\"flex flex-col gap-2 px-4\">\n    {Array.from({ length: count }).map((_, index) => (\n      <div key={index} className=\"h-4 w-full bg-muted animate-pulse\" />\n    ))}\n  </div>\n)\n\nexport function InfiniteList<TableName extends SupabaseTableName>({\n  tableName,\n  columns = '*',\n  pageSize = 20,\n  trailingQuery,\n  renderItem,\n  className,\n  renderNoResults = DefaultNoResults,\n  renderEndMessage = DefaultEndMessage,\n  renderSkeleton = defaultSkeleton,\n}: InfiniteListProps<TableName>) {\n  const { data, isFetching, hasMore, fetchNextPage, isSuccess } = useInfiniteQuery({\n    tableName,\n    columns,\n    pageSize,\n    trailingQuery,\n  })\n\n  // Ref for the scrolling container\n  const scrollContainerRef = React.useRef<HTMLDivElement>(null)\n\n  // Intersection observer logic - target the last rendered *item* or a dedicated sentinel\n  const loadMoreSentinelRef = React.useRef<HTMLDivElement>(null)\n  const observer = React.useRef<IntersectionObserver | null>(null)\n\n  React.useEffect(() => {\n    if (observer.current) observer.current.disconnect()\n\n    observer.current = new IntersectionObserver(\n      (entries) => {\n        if (entries[0].isIntersecting && hasMore && !isFetching) {\n          fetchNextPage()\n        }\n      },\n      {\n        root: scrollContainerRef.current, // Use the scroll container for scroll detection\n        threshold: 0.1, // Trigger when 10% of the target is visible\n        rootMargin: '0px 0px 100px 0px', // Trigger loading a bit before reaching the end\n      }\n    )\n\n    if (loadMoreSentinelRef.current) {\n      observer.current.observe(loadMoreSentinelRef.current)\n    }\n\n    return () => {\n      if (observer.current) observer.current.disconnect()\n    }\n  }, [isFetching, hasMore, fetchNextPage])\n\n  return (\n    <div ref={scrollContainerRef} className={cn('relative h-full overflow-auto', className)}>\n      <div>\n        {isSuccess && data.length === 0 && renderNoResults()}\n\n        {data.map((item, index) => renderItem(item, index))}\n\n        {isFetching && renderSkeleton && renderSkeleton(pageSize)}\n\n        <div ref={loadMoreSentinelRef} style={{ height: '1px' }} />\n\n        {!hasMore && data.length > 0 && renderEndMessage()}\n      </div>\n    </div>\n  )\n}\n```\n\nUse the `InfiniteList` component with the [Todo List](https://supabase.com/dashboard/project/_/sql/quickstarts) quickstart.\n\nAdd `<InfiniteListDemo />` to a page to see it in action.\nEnsure the [Checkbox](https://ui.shadcn.com/docs/components/checkbox) component from shadcn/ui is installed, and [regenerate/download](https://supabase.com/docs/guides/api/rest/generating-types) types after running the quickstart.\n\n```tsx\n'use client'\n\nimport { Checkbox } from '@/components/ui/checkbox'\nimport { InfiniteList } from './infinite-component'\nimport { SupabaseQueryHandler } from '@/hooks/use-infinite-query'\nimport { Database } from '@/lib/supabase.types'\n\ntype TodoTask = Database['public']['Tables']['todos']['Row']\n\n// Define how each item should be rendered\nconst renderTodoItem = (todo: TodoTask) => {\n  return (\n    <div\n      key={todo.id}\n      className=\"border-b py-3 px-4 hover:bg-muted flex items-center justify-between\"\n    >\n      <div className=\"flex items-center gap-3\">\n        <Checkbox defaultChecked={todo.is_complete ?? false} />\n        <div>\n          <span className=\"font-medium text-sm text-foreground\">{todo.task}</span>\n          <div className=\"text-sm text-muted-foreground\">\n            {new Date(todo.inserted_at).toLocaleDateString()}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst orderByInsertedAt: SupabaseQueryHandler<'todos'> = (query) => {\n  return query.order('inserted_at', { ascending: false })\n}\n\nexport const InfiniteListDemo = () => {\n  return (\n    <div className=\"bg-background h-[600px]\">\n      <InfiniteList\n        tableName=\"todos\"\n        renderItem={renderTodoItem}\n        pageSize={3}\n        trailingQuery={orderByInsertedAt}\n      />\n    </div>\n  )\n}\n```\n\n<Callout>\n  The Todo List table has Row Level Security (RLS) enabled by default. Feel free disable it\n  temporarily while testing. With RLS enabled, you will get an [empty\n  array](https://supabase.com/docs/guides/troubleshooting/why-is-my-select-returning-an-empty-data-array-and-i-have-data-in-the-table-xvOPgx)\n  of results by default. [Read\n  more](https://supabase.com/docs/guides/database/postgres/row-level-security) about RLS.\n</Callout>\n\n## Further reading\n\n- [Generating Typescript types from the database](https://supabase.com/docs/reference/javascript/typescript-support)\n- [Supabase Database API](https://supabase.com/docs/reference/javascript/select)\n- [Supabase Pagination](https://supabase.com/docs/reference/javascript/select#pagination)\n- [Intersection Observer API](https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API)\n",
    "code": "var Component=(()=>{var y=Object.create;var l=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var g=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),N=(o,e)=>{for(var r in e)l(o,r,{get:e[r],enumerable:!0})},d=(o,e,r,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of v(e))!f.call(o,c)&&c!==r&&l(o,c,{get:()=>e[c],enumerable:!(t=k(e,c))||t.enumerable});return o};var b=(o,e,r)=>(r=o!=null?y(m(o)):{},d(e||!o||!o.__esModule?l(r,\"default\",{value:o,enumerable:!0}):r,o)),w=o=>d(l({},\"__esModule\",{value:!0}),o);var p=g((I,i)=>{i.exports=_jsx_runtime});var S={};N(S,{default:()=>u,frontmatter:()=>x});var n=b(p()),x={title:\"Infinite Query Hook\",description:\"React hook for infinite lists, fetching data from Supabase.\"};function h(o){let e={a:\"a\",code:\"code\",div:\"div\",h2:\"h2\",h3:\"h3\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...o.components},{BlockItem:r,BlockPreview:t,Callout:c,RegistryBlock:s}=e;return r||a(\"BlockItem\",!0),t||a(\"BlockPreview\",!0),c||a(\"Callout\",!0),s||a(\"RegistryBlock\",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t,{name:\"infinite-list-demo\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"installation\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#installation\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Installation\"]}),`\n`,(0,n.jsx)(r,{name:\"infinite-query-hook\",description:\"Installs the Infinite List component and necessary Supabase client setup.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"folder-structure\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#folder-structure\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Folder structure\"]}),`\n`,(0,n.jsx)(s,{itemName:\"infinite-query-hook\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"introduction\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#introduction\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Introduction\"]}),`\n`,(0,n.jsx)(e.p,{children:`The Infinite Query Hook provides a single React hook which will make it easier to load data progressively from your Supabase database. It handles data fetching and pagination state, It is meant to be used with infinite lists or tables.\nThe hook is fully typed, provided you have generated and setup your database types.`}),`\n`,(0,n.jsxs)(e.h2,{id:\"adding-types\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#adding-types\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Adding types\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Before using this hook, we \",(0,n.jsx)(e.strong,{children:\"highly\"}),\" recommend you setup database types in your project. This will make the hook fully-typesafe. More info about generating Typescript types from database schema \",(0,n.jsx)(e.a,{href:\"https://supabase.com/docs/guides/api/rest/generating-types\",children:\"here\"})]}),`\n`,(0,n.jsxs)(e.h2,{id:\"props\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#props\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Props\"]}),`\n`,(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:\"Prop\"}),(0,n.jsx)(e.th,{children:\"Type\"}),(0,n.jsx)(e.th,{children:\"Description\"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"tableName\"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"string\"})}),(0,n.jsxs)(e.td,{children:[(0,n.jsx)(e.strong,{children:\"Required.\"}),\" The name of the Supabase table to fetch data from.\"]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"columns\"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"string\"})}),(0,n.jsxs)(e.td,{children:[\"Columns to select from the table. Defaults to \",(0,n.jsx)(e.code,{children:\"'*'\"}),\".\"]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"pageSize\"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"number\"})}),(0,n.jsxs)(e.td,{children:[\"Number of items to fetch per page. Defaults to \",(0,n.jsx)(e.code,{children:\"20\"}),\".\"]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"trailingQuery\"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"(query: SupabaseSelectBuilder) => SupabaseSelectBuilder\"})}),(0,n.jsx)(e.td,{children:\"Function to apply filters or sorting to the Supabase query.\"})]})]})]}),`\n`,(0,n.jsxs)(e.h2,{id:\"return-type\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#return-type\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Return type\"]}),`\n`,(0,n.jsx)(e.p,{children:\"data, count, isSuccess, isLoading, isFetching, error, hasMore, fetchNextPage\"}),`\n`,(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:\"Prop\"}),(0,n.jsx)(e.th,{children:\"Type\"}),(0,n.jsx)(e.th,{children:\"Description\"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"data\"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"TableData[]\"})}),(0,n.jsx)(e.td,{children:\"An array of fetched items.\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"count\"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"number\"})}),(0,n.jsxs)(e.td,{children:[\"Number of total items in the database. It takes \",(0,n.jsx)(e.code,{children:\"trailingQuery\"}),\" into consideration.\"]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"isSuccess\"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"boolean\"})}),(0,n.jsx)(e.td,{children:\"It's true if the last API call succeeded.\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"isLoading\"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"boolean\"})}),(0,n.jsx)(e.td,{children:\"It's true only for the initial fetch.\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"isFetching\"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"boolean\"})}),(0,n.jsx)(e.td,{children:\"It's true for the initial and all incremental fetches.\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"error\"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"any\"})}),(0,n.jsx)(e.td,{children:\"The error from the last fetch.\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"hasMore\"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"boolean\"})}),(0,n.jsx)(e.td,{children:\"Whether the query has finished fetching all items from the database\"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"fetchNextPage\"})}),(0,n.jsx)(e.td,{children:(0,n.jsx)(e.code,{children:\"() => void\"})}),(0,n.jsx)(e.td,{children:\"Sends a new request for the next items\"})]})]})]}),`\n`,(0,n.jsxs)(e.h2,{id:\"type-safety\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#type-safety\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Type safety\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"The hook will use the typed defined on your Supabase client if they're setup (\",(0,n.jsx)(e.a,{href:\"https://supabase.com/docs/reference/javascript/typescript-support\",children:\"more info\"}),\").\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"The hook also supports an custom defined result type by using \",(0,n.jsx)(e.code,{children:\"useInfiniteQuery<T>\"}),\". For example, if you have a custom type for \",(0,n.jsx)(e.code,{children:\"Product\"}),\", you can use it like this \",(0,n.jsx)(e.code,{children:\"useInfiniteQuery<Product>\"}),\".\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"usage\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#usage\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Usage\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"with-sorting\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#with-sorting\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"With sorting\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`const { data, fetchNextPage } = useInfiniteQuery({\n  tableName: 'products',\n  columns: '*',\n  pageSize: 10,\n  trailingQuery: (query) => query.order('created_at', { ascending: false }),\n})\n\nreturn (\n  <div>\n    {data.map((item) => (\n      <ProductCard key={item.id} product={item} />\n    ))}\n    <Button onClick={fetchNextPage}>Load more products</Button>\n  </div>\n)\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" fetchNextPage\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" }\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" useInfiniteQuery\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"  tableName\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"products\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"  columns\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"*\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"  pageSize\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" 10\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"  trailingQuery\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"query\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" query\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"order\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"created_at\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\" ascending\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" false\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" }\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"return\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"  <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"map\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"item\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"ProductCard \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"key\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"item\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"id\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\" product\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"item\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"    ))\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"Button \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"onClick\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"fetchNextPage\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"Load more products\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"</\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"Button\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"  </\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"})})]})})}),`\n`,(0,n.jsxs)(e.h3,{id:\"with-filtering-on-search-params\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#with-filtering-on-search-params\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"With filtering on search params\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"This example will filter based on a search param like \",(0,n.jsx)(e.code,{children:\"example.com/?q=hello\"}),\".\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`const params = useSearchParams()\nconst searchQuery = params.get('q')\n\nconst { data, isLoading, isFetching, fetchNextPage, count, isSuccess } = useInfiniteQuery({\n  tableName: 'products',\n  columns: '*',\n  pageSize: 10,\n  trailingQuery: (query) => {\n    if (searchQuery && searchQuery.length > 0) {\n      query = query.ilike('name', \\`%\\${searchQuery}%\\`)\n    }\n    return query\n  },\n})\n\nreturn (\n  <div>\n    {data.map((item) => (\n      <ProductCard key={item.id} product={item} />\n    ))}\n    <Button onClick={fetchNextPage}>Load more products</Button>\n  </div>\n)\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" params\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" useSearchParams\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"()\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" searchQuery\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" params\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"get\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"q\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" isLoading\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" isFetching\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" fetchNextPage\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" count\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" isSuccess\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" }\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" useInfiniteQuery\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"  tableName\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"products\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"  columns\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"*\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"  pageSize\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" 10\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"  trailingQuery\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"query\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"searchQuery\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" &&\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" searchQuery\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"length\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" >\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" 0\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"      query\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" query\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"ilike\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"name\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" `\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string)\"},children:\"%\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"${\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"searchQuery\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string)\"},children:\"%\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"`\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    }\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" query\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"  },\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"return\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"  <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"map\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"item\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"ProductCard \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"key\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"item\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"id\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\" product\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"item\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"    ))\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"Button \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"onClick\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"fetchNextPage\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"Load more products\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"</\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"Button\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"  </\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"})})]})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"reusable-components\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#reusable-components\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Reusable components\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"infinite-list-fetches-as-you-scroll\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#infinite-list-fetches-as-you-scroll\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Infinite list (fetches as you scroll)\"]}),`\n`,(0,n.jsx)(e.p,{children:\"The following component abstracts the hook into a component. It includes few utility components for no results and end of the list.\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`'use client'\n\nimport { cn } from '@/lib/utils'\nimport {\n  SupabaseQueryHandler,\n  SupabaseTableData,\n  SupabaseTableName,\n  useInfiniteQuery,\n} from '@/hooks/use-infinite-query'\nimport * as React from 'react'\n\ninterface InfiniteListProps<TableName extends SupabaseTableName> {\n  tableName: TableName\n  columns?: string\n  pageSize?: number\n  trailingQuery?: SupabaseQueryHandler<TableName>\n  renderItem: (item: SupabaseTableData<TableName>, index: number) => React.ReactNode\n  className?: string\n  renderNoResults?: () => React.ReactNode\n  renderEndMessage?: () => React.ReactNode\n  renderSkeleton?: (count: number) => React.ReactNode\n}\n\nconst DefaultNoResults = () => (\n  <div className=\"text-center text-muted-foreground py-10\">No results.</div>\n)\n\nconst DefaultEndMessage = () => (\n  <div className=\"text-center text-muted-foreground py-4 text-sm\">You&apos;ve reached the end.</div>\n)\n\nconst defaultSkeleton = (count: number) => (\n  <div className=\"flex flex-col gap-2 px-4\">\n    {Array.from({ length: count }).map((_, index) => (\n      <div key={index} className=\"h-4 w-full bg-muted animate-pulse\" />\n    ))}\n  </div>\n)\n\nexport function InfiniteList<TableName extends SupabaseTableName>({\n  tableName,\n  columns = '*',\n  pageSize = 20,\n  trailingQuery,\n  renderItem,\n  className,\n  renderNoResults = DefaultNoResults,\n  renderEndMessage = DefaultEndMessage,\n  renderSkeleton = defaultSkeleton,\n}: InfiniteListProps<TableName>) {\n  const { data, isFetching, hasMore, fetchNextPage, isSuccess } = useInfiniteQuery({\n    tableName,\n    columns,\n    pageSize,\n    trailingQuery,\n  })\n\n  // Ref for the scrolling container\n  const scrollContainerRef = React.useRef<HTMLDivElement>(null)\n\n  // Intersection observer logic - target the last rendered *item* or a dedicated sentinel\n  const loadMoreSentinelRef = React.useRef<HTMLDivElement>(null)\n  const observer = React.useRef<IntersectionObserver | null>(null)\n\n  React.useEffect(() => {\n    if (observer.current) observer.current.disconnect()\n\n    observer.current = new IntersectionObserver(\n      (entries) => {\n        if (entries[0].isIntersecting && hasMore && !isFetching) {\n          fetchNextPage()\n        }\n      },\n      {\n        root: scrollContainerRef.current, // Use the scroll container for scroll detection\n        threshold: 0.1, // Trigger when 10% of the target is visible\n        rootMargin: '0px 0px 100px 0px', // Trigger loading a bit before reaching the end\n      }\n    )\n\n    if (loadMoreSentinelRef.current) {\n      observer.current.observe(loadMoreSentinelRef.current)\n    }\n\n    return () => {\n      if (observer.current) observer.current.disconnect()\n    }\n  }, [isFetching, hasMore, fetchNextPage])\n\n  return (\n    <div ref={scrollContainerRef} className={cn('relative h-full overflow-auto', className)}>\n      <div>\n        {isSuccess && data.length === 0 && renderNoResults()}\n\n        {data.map((item, index) => renderItem(item, index))}\n\n        {isFetching && renderSkeleton && renderSkeleton(pageSize)}\n\n        <div ref={loadMoreSentinelRef} style={{ height: '1px' }} />\n\n        {!hasMore && data.length > 0 && renderEndMessage()}\n      </div>\n    </div>\n  )\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"use client\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" cn\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" }\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"@/lib/utils\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  SupabaseQueryHandler\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  SupabaseTableData\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  SupabaseTableName\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  useInfiniteQuery\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"@/hooks/use-infinite-query\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" *\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" as\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" React\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"react\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"interface\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" InfiniteListProps\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"TableName\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" extends\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" SupabaseTableName\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  tableName\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" TableName\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  columns\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"?:\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" string\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  pageSize\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"?:\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" number\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  trailingQuery\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"?:\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" SupabaseQueryHandler\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"TableName\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"  renderItem\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"item\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" SupabaseTableData\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"TableName\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">,\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" index\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" number\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" React\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"ReactNode\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  className\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"?:\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" string\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"  renderNoResults\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"?:\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" ()\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" React\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"ReactNode\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"  renderEndMessage\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"?:\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" ()\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" React\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"ReactNode\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"  renderSkeleton\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"?:\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" number\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" React\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"ReactNode\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" DefaultNoResults\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" ()\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"  <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"className\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"text-center text-muted-foreground py-10\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"No results.\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"</\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" DefaultEndMessage\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" ()\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"  <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"className\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"text-center text-muted-foreground py-4 text-sm\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"You\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"&\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\"apos\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\";\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"ve reached the end.\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"</\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" defaultSkeleton\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"count\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" number\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"  <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"className\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"flex flex-col gap-2 px-4\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"Array\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\" length\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" count\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" }\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"map\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"_\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" index\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"key\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"index\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\" className\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"h-4 w-full bg-muted animate-pulse\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"    ))\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"  </\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" function\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" InfiniteList\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"TableName\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" extends\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" SupabaseTableName\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">({\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  tableName\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  columns\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"*\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  pageSize\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" 20\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  trailingQuery\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  renderItem\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  className\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  renderNoResults\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" DefaultNoResults\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  renderEndMessage\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" DefaultEndMessage\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  renderSkeleton\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" defaultSkeleton\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" InfiniteListProps\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"TableName\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">)\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" isFetching\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" hasMore\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" fetchNextPage\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" isSuccess\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" }\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" useInfiniteQuery\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"    tableName\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"    columns\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"    pageSize\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"    trailingQuery\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"  }\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-comment)\",fontStyle:\"italic\"},children:\"  // Ref for the scrolling container\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" scrollContainerRef\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" React\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"useRef\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"HTMLDivElement\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-comment)\",fontStyle:\"italic\"},children:\"  // Intersection observer logic - target the last rendered *item* or a dedicated sentinel\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" loadMoreSentinelRef\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" React\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"useRef\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"HTMLDivElement\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"  const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" observer\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" React\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"useRef\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"IntersectionObserver\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" |\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" null\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\"null\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"  React\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"useEffect\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"()\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"observer\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"current\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"observer\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"current\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"disconnect\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"()\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"    observer\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"current\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" new\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" IntersectionObserver\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      (\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"entries\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"        if\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"entries\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"[\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\"0\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"].\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"isIntersecting\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" &&\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" hasMore\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" &&\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" !\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"isFetching\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"          fetchNextPage\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"()\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"        }\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      },\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      {\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"        root\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" scrollContainerRef\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"current\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-comment)\",fontStyle:\"italic\"},children:\" // Use the scroll container for scroll detection\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"        threshold\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" 0.1\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-comment)\",fontStyle:\"italic\"},children:\" // Trigger when 10% of the target is visible\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"        rootMargin\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"0px 0px 100px 0px\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-comment)\",fontStyle:\"italic\"},children:\" // Trigger loading a bit before reaching the end\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      }\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"    )\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"    if\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"loadMoreSentinelRef\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"current\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"      observer\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"current\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"observe\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"loadMoreSentinelRef\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"current\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    }\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"    return\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" ()\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"      if\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"observer\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"current\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"observer\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"current\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"disconnect\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"()\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    }\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"  },\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" [\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"isFetching\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" hasMore\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" fetchNextPage\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"]\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"ref\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"scrollContainerRef\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\" className\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"cn\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"relative h-full overflow-auto\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" className\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}>\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"        {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"isSuccess\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" &&\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"length\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" ===\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" 0\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" &&\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" renderNoResults\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"()\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"        {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"data\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"map\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"item\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" index\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" renderItem\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"item\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" index\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"))\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"        {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"isFetching\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" &&\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" renderSkeleton\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" &&\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" renderSkeleton\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"pageSize\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"        <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"ref\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"loadMoreSentinelRef\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\" style\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\" height\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"1px\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" }}\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" />\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"        {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"!\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"hasMore\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" &&\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" data\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"length\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" >\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" 0\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" &&\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" renderEndMessage\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"()\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      </\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"  )\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})})]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Use the \",(0,n.jsx)(e.code,{children:\"InfiniteList\"}),\" component with the \",(0,n.jsx)(e.a,{href:\"https://supabase.com/dashboard/project/_/sql/quickstarts\",children:\"Todo List\"}),\" quickstart.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Add \",(0,n.jsx)(e.code,{children:\"<InfiniteListDemo />\"}),` to a page to see it in action.\nEnsure the `,(0,n.jsx)(e.a,{href:\"https://ui.shadcn.com/docs/components/checkbox\",children:\"Checkbox\"}),\" component from shadcn/ui is installed, and \",(0,n.jsx)(e.a,{href:\"https://supabase.com/docs/guides/api/rest/generating-types\",children:\"regenerate/download\"}),\" types after running the quickstart.\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`'use client'\n\nimport { Checkbox } from '@/components/ui/checkbox'\nimport { InfiniteList } from './infinite-component'\nimport { SupabaseQueryHandler } from '@/hooks/use-infinite-query'\nimport { Database } from '@/lib/supabase.types'\n\ntype TodoTask = Database['public']['Tables']['todos']['Row']\n\n// Define how each item should be rendered\nconst renderTodoItem = (todo: TodoTask) => {\n  return (\n    <div\n      key={todo.id}\n      className=\"border-b py-3 px-4 hover:bg-muted flex items-center justify-between\"\n    >\n      <div className=\"flex items-center gap-3\">\n        <Checkbox defaultChecked={todo.is_complete ?? false} />\n        <div>\n          <span className=\"font-medium text-sm text-foreground\">{todo.task}</span>\n          <div className=\"text-sm text-muted-foreground\">\n            {new Date(todo.inserted_at).toLocaleDateString()}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst orderByInsertedAt: SupabaseQueryHandler<'todos'> = (query) => {\n  return query.order('inserted_at', { ascending: false })\n}\n\nexport const InfiniteListDemo = () => {\n  return (\n    <div className=\"bg-background h-[600px]\">\n      <InfiniteList\n        tableName=\"todos\"\n        renderItem={renderTodoItem}\n        pageSize={3}\n        trailingQuery={orderByInsertedAt}\n      />\n    </div>\n  )\n}\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"use client\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" Checkbox\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" }\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"@/components/ui/checkbox\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" InfiniteList\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" }\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"./infinite-component\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" SupabaseQueryHandler\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" }\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"@/hooks/use-infinite-query\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" Database\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" }\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"@/lib/supabase.types\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"type\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" TodoTask\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" Database\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"[\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"public\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"][\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"Tables\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"][\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"todos\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"][\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"Row\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"]\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-comment)\",fontStyle:\"italic\"},children:\"// Define how each item should be rendered\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" renderTodoItem\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"todo\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" TodoTask\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"      key\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"todo\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"id\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"      className\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"border-b py-3 px-4 hover:bg-muted flex items-center justify-between\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    >\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"className\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"flex items-center gap-3\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"        <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"Checkbox \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"defaultChecked\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"todo\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"is_complete\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" ??\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" false\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" />\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"        <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"          <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"span \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"className\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"font-medium text-sm text-foreground\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"todo\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"task\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}</\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"span\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"          <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"className\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"text-sm text-muted-foreground\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"            {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"new\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" Date\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"todo\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"inserted_at\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"toLocaleDateString\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"()\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"          </\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"        </\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      </\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"  )\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" orderByInsertedAt\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" SupabaseQueryHandler\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"<\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"todos\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" (\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"query\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\")\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" query\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\".\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"order\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"inserted_at\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\",\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\" ascending\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\":\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\" false\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" }\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\")\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" InfiniteListDemo\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" ()\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"className\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"bg-background h-[600px]\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"InfiniteList\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"        tableName\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"todos\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"        renderItem\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"renderTodoItem\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"        pageSize\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-constant)\"},children:\"3\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"        trailingQuery\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"{\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\"orderByInsertedAt\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      />\"})}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"div\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"  )\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})})]})})}),`\n`,(0,n.jsx)(c,{children:(0,n.jsxs)(e.p,{children:[`The Todo List table has Row Level Security (RLS) enabled by default. Feel free disable it\ntemporarily while testing. With RLS enabled, you will get an `,(0,n.jsx)(e.a,{href:\"https://supabase.com/docs/guides/troubleshooting/why-is-my-select-returning-an-empty-data-array-and-i-have-data-in-the-table-xvOPgx\",children:`empty\narray`}),`\nof results by default. `,(0,n.jsx)(e.a,{href:\"https://supabase.com/docs/guides/database/postgres/row-level-security\",children:`Read\nmore`}),\" about RLS.\"]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"further-reading\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#further-reading\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Further reading\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://supabase.com/docs/reference/javascript/typescript-support\",children:\"Generating Typescript types from the database\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://supabase.com/docs/reference/javascript/select\",children:\"Supabase Database API\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://supabase.com/docs/reference/javascript/select#pagination\",children:\"Supabase Pagination\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\",children:\"Intersection Observer API\"})}),`\n`]})]})}function u(o={}){let{wrapper:e}=o.components||{};return e?(0,n.jsx)(e,{...o,children:(0,n.jsx)(h,{...o})}):h(o)}function a(o,e){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+o+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return w(S);})();\n;return Component;"
  },
  "_id": "docs/infinite-query-hook.mdx",
  "_raw": {
    "sourceFilePath": "docs/infinite-query-hook.mdx",
    "sourceFileName": "infinite-query-hook.mdx",
    "sourceFileDir": "docs",
    "contentType": "mdx",
    "flattenedPath": "docs/infinite-query-hook"
  },
  "type": "Doc",
  "slug": "/docs/infinite-query-hook",
  "slugAsParams": "infinite-query-hook"
}