{
  "title": "Current User Avatar",
  "description": "Supabase Auth-aware avatar",
  "published": true,
  "featured": false,
  "component": false,
  "fragment": false,
  "toc": true,
  "body": {
    "raw": "\n<ComponentPreview name=\"current-user-avatar-demo\" showCode={false} />\n\n## Installation\n\n<BlockItem\n  name=\"current-user-avatar-nextjs\"\n  description=\"Renders the avatar of the current user.\"\n/>\n\n## Folder structure\n\n<RegistryBlock itemName=\"current-user-avatar-nextjs\" />\n\n## Introduction\n\nThe `CurrentUserAvatar` component connects to Supabase Auth to fetch the user data and show an avatar. It uses the `user_metadata`\nproperty which gets populated automatically by Supabase Auth if the user logged in via a provider. If the user doesn't have a profile image, it renders their initials. If the user is logged out, it renders a `?` as a fallback, which you can change.\n\n## Usage\n\nThe `CurrentUserAvatar` component is designed to be used anywhere in your app. Add the `<CurrentUserAvatar />` component to your page and it will render the avatar of the current user, with a fallback.\n\n```tsx\n'use client'\n\nimport { CurrentUserAvatar } from '@/components/current-user-avatar'\n\nconst CurrentUserAvatarDemo = () => {\n  return (\n    <Header className=\"flex items-center justify-between\">\n      <h1>Lumon Industries</h1>\n      <CurrentUserAvatar />\n    </Header>\n  )\n}\n\nexport default CurrentUserAvatarDemo\n```\n\n## Props\n\nThis component doesn't accept any props. If you wish to change the fallback, you can do so by changing the `CurrentUserAvatar` component directly.\n\n## Further reading\n\n- [Auth users](https://supabase.com/docs/guides/auth/users)\n",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var f=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),g=(r,e)=>{for(var a in e)c(r,a,{get:e[a],enumerable:!0})},l=(r,e,a,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of v(e))!k.call(r,o)&&o!==a&&c(r,o,{get:()=>e[o],enumerable:!(t=m(e,o))||t.enumerable});return r};var N=(r,e,a)=>(a=r!=null?p(y(r)):{},l(e||!r||!r.__esModule?c(a,\"default\",{value:r,enumerable:!0}):a,r)),b=r=>l(c({},\"__esModule\",{value:!0}),r);var d=f((C,i)=>{i.exports=_jsx_runtime});var x={};g(x,{default:()=>u,frontmatter:()=>w});var n=N(d()),w={title:\"Current User Avatar\",description:\"Supabase Auth-aware avatar\"};function h(r){let e={a:\"a\",code:\"code\",div:\"div\",h2:\"h2\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",ul:\"ul\",...r.components},{BlockItem:a,ComponentPreview:t,RegistryBlock:o}=e;return a||s(\"BlockItem\",!0),t||s(\"ComponentPreview\",!0),o||s(\"RegistryBlock\",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t,{name:\"current-user-avatar-demo\",showCode:!1}),`\n`,(0,n.jsxs)(e.h2,{id:\"installation\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#installation\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Installation\"]}),`\n`,(0,n.jsx)(a,{name:\"current-user-avatar-nextjs\",description:\"Renders the avatar of the current user.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"folder-structure\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#folder-structure\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Folder structure\"]}),`\n`,(0,n.jsx)(o,{itemName:\"current-user-avatar-nextjs\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"introduction\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#introduction\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Introduction\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"The \",(0,n.jsx)(e.code,{children:\"CurrentUserAvatar\"}),\" component connects to Supabase Auth to fetch the user data and show an avatar. It uses the \",(0,n.jsx)(e.code,{children:\"user_metadata\"}),`\nproperty which gets populated automatically by Supabase Auth if the user logged in via a provider. If the user doesn't have a profile image, it renders their initials. If the user is logged out, it renders a `,(0,n.jsx)(e.code,{children:\"?\"}),\" as a fallback, which you can change.\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"usage\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#usage\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Usage\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"The \",(0,n.jsx)(e.code,{children:\"CurrentUserAvatar\"}),\" component is designed to be used anywhere in your app. Add the \",(0,n.jsx)(e.code,{children:\"<CurrentUserAvatar />\"}),\" component to your page and it will render the avatar of the current user, with a fallback.\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"tsx\",\"data-theme\":\"default\",__rawString__:`'use client'\n\nimport { CurrentUserAvatar } from '@/components/current-user-avatar'\n\nconst CurrentUserAvatarDemo = () => {\n  return (\n    <Header className=\"flex items-center justify-between\">\n      <h1>Lumon Industries</h1>\n      <CurrentUserAvatar />\n    </Header>\n  )\n}\n\nexport default CurrentUserAvatarDemo\n`,children:(0,n.jsxs)(e.code,{\"data-language\":\"tsx\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"use client\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" CurrentUserAvatar\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" }\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" from\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" '\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"@/components/current-user-avatar\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"'\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"const\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\" CurrentUserAvatarDemo\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" ()\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" =>\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\" {\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"  return\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\" (\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"Header \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-property)\"},children:\"className\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-string-expression)\"},children:\"flex items-center justify-between\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:'\"'}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"h1\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"Lumon Industries\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"</\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"h1\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"      <\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"CurrentUserAvatar \"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"/>\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"    </\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-function)\"},children:\"Header\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\">\"})]}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-foreground)\"},children:\"  )\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"var(--code-token-punctuation)\"},children:\"}\"})}),`\n`,(0,n.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\"export\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-keyword)\"},children:\" default\"}),(0,n.jsx)(e.span,{style:{color:\"var(--code-token-parameter)\"},children:\" CurrentUserAvatarDemo\"})]})]})})}),`\n`,(0,n.jsxs)(e.h2,{id:\"props\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#props\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Props\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"This component doesn't accept any props. If you wish to change the fallback, you can do so by changing the \",(0,n.jsx)(e.code,{children:\"CurrentUserAvatar\"}),\" component directly.\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"further-reading\",children:[(0,n.jsx)(e.a,{className:\"subheading-anchor\",\"aria-label\":\"Link to section\",href:\"#further-reading\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Further reading\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://supabase.com/docs/guides/auth/users\",children:\"Auth users\"})}),`\n`]})]})}function u(r={}){let{wrapper:e}=r.components||{};return e?(0,n.jsx)(e,{...r,children:(0,n.jsx)(h,{...r})}):h(r)}function s(r,e){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+r+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return b(x);})();\n;return Component;"
  },
  "_id": "docs/nextjs/current-user-avatar.mdx",
  "_raw": {
    "sourceFilePath": "docs/nextjs/current-user-avatar.mdx",
    "sourceFileName": "current-user-avatar.mdx",
    "sourceFileDir": "docs/nextjs",
    "contentType": "mdx",
    "flattenedPath": "docs/nextjs/current-user-avatar"
  },
  "type": "Doc",
  "slug": "/docs/nextjs/current-user-avatar",
  "slugAsParams": "nextjs/current-user-avatar"
}