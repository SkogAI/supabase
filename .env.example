# Supabase Configuration
# Copy this file to .env and fill in your actual values
# See OPENAI_SETUP.md for complete OpenAI integration guide

# OpenAI API Key for Supabase Studio AI features (SQL generation, query assistance, etc.)
# Get your key from: https://platform.openai.com/api-keys
# Format: sk-...
SUPABASE_OPENAI_API_KEY=your-openai-api-key-here

# For Edge Functions: If you want to use AI providers in your edge functions,
# set them as Supabase secrets (not in this file):
#   supabase secrets set OPENAI_API_KEY=your-openai-api-key-here
#   supabase secrets set OPENROUTER_API_KEY=sk-or-your-openrouter-key-here
#
# Examples:
#   - OpenAI direct: see supabase/functions/openai-chat/
#   - OpenRouter (100+ models): see supabase/functions/openrouter-chat/

# OpenAI API Key for Supabase Studio AI features (SQL generation, query assistance, etc.)
# Get your key from: https://platform.openai.com/api-keys
# Format: sk-...
SUPABASE_OPENAI_API_KEY=your-openai-api-key-here

# For Edge Functions: If you want to use AI providers in your edge functions,
# set them as Supabase secrets (not in this file):
#   supabase secrets set OPENAI_API_KEY=your-openai-api-key-here
#   supabase secrets set OPENROUTER_API_KEY=sk-or-your-openrouter-key-here
#
# Examples:
#   - OpenAI direct: see supabase/functions/openai-chat/
#   - OpenRouter (100+ models): see supabase/functions/openrouter-chat/

# OpenAI API Key for Supabase Studio AI features (SQL generation, query assistance, etc.)
# Get your key from: https://platform.openai.com/api-keys
# Format: sk-...
SUPABASE_OPENAI_API_KEY=your-openai-api-key-here

# For Edge Functions: If you want to use AI providers in your edge functions,
# set them as Supabase secrets (not in this file):
#   supabase secrets set OPENAI_API_KEY=your-openai-api-key-here
#   supabase secrets set OPENROUTER_API_KEY=sk-or-your-openrouter-key-here
#
# Examples:
#   - OpenAI direct: see supabase/functions/openai-chat/
#   - OpenRouter (100+ models): see supabase/functions/openrouter-chat/

# OpenAI API Key for Supabase Studio AI features (SQL generation, query assistance, etc.)
# Get your key from: https://platform.openai.com/api-keys
# Format: sk-...
SUPABASE_OPENAI_API_KEY=your-openai-api-key-here

# For Edge Functions: If you want to use OpenAI in your edge functions,
# set OPENAI_API_KEY as a Supabase secret (not in this file):
#   supabase secrets set OPENAI_API_KEY=your-openai-api-key-here
# See supabase/functions/openai-chat/ for an example

# Optional: SMS Provider (Twilio)
SUPABASE_AUTH_SMS_TWILIO_AUTH_TOKEN=your-twilio-auth-token

# Optional: External OAuth Providers
SUPABASE_AUTH_EXTERNAL_APPLE_SECRET=your-apple-oauth-secret

# Optional: S3 Configuration for OrioleDB
S3_HOST=your-bucket.s3-region.amazonaws.com
S3_REGION=us-east-1
S3_ACCESS_KEY=your-access-key
S3_SECRET_KEY=your-secret-key

# Optional: Email SMTP (SendGrid example)
SENDGRID_API_KEY=your-sendgrid-api-key

# ============================================================================
# AI AGENT AUTHENTICATION FOR MCP SERVERS
# ============================================================================
# Connection strings for AI agents accessing via MCP servers
# See docs/AI_AGENT_SECURITY.md for setup instructions

# Read-Only AI Agent Connection (for chatbots, analytics viewers)
# Format: postgresql://[username]:[password]@[host]:[port]/[database]
# Role: ai_agent_readonly - SELECT only on all tables
SUPABASE_AI_AGENT_READONLY_CONNECTION=postgresql://ai_readonly_user:secure_password@db.project-ref.supabase.co:5432/postgres

# Read-Write AI Agent Connection (for content generators, data processors)
# Format: postgresql://[username]:[password]@[host]:[port]/[database]
# Role: ai_agent_readwrite - SELECT, INSERT, UPDATE on all tables
SUPABASE_AI_AGENT_READWRITE_CONNECTION=postgresql://ai_readwrite_user:secure_password@db.project-ref.supabase.co:5432/postgres

# Analytics AI Agent Connection (for data analysis, reporting)
# Format: postgresql://[username]:[password]@[host]:[port]/[database]
# Role: ai_agent_analytics - SELECT on all tables + materialized view refresh
SUPABASE_AI_AGENT_ANALYTICS_CONNECTION=postgresql://ai_analytics_user:secure_password@db.project-ref.supabase.co:5432/postgres

# API Key for AI Agent Authentication (alternative to database credentials)
# Generate via: SELECT public.generate_api_key();
# Format: sk_ai_[base64-encoded-random-bytes]
SUPABASE_AI_AGENT_API_KEY=sk_ai_your_generated_api_key_here

# Connection Type for MCP Servers
# Options: direct_ipv6, direct_ipv4, supavisor_session, supavisor_transaction
# See docs/MCP_CONNECTION_EXAMPLES.md for details
MCP_CONNECTION_TYPE=supavisor_transaction

# Enable Audit Logging for AI Agents
# Set to 'true' to log all authentication attempts and queries
MCP_AUDIT_LOGGING_ENABLED=true
